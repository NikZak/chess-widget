<!-- Example with Russian (default) -->
<iframe
  id="chess-widget"
  src="index.html?fen=r3k2r/1b1p1pp1/3qp3/p1bP4/Pp3B2/6P1/1PP1QPB1/R4RK1%20b%20kq%20-%200%201&moves=d6d5,g2d5,b7d5&lang=ru"
  width="100%"
  height="500"
  style="border: none; max-width: 500px"
>
</iframe>

<script>
  const iframe = document.getElementById("chess-widget");

  // Listen for height updates to auto-resize iframe
  window.addEventListener("message", function (event) {
    if (event.data && event.data.type === "CHESS_PUZZLE_HEIGHT") {
      // Auto-resize iframe to fit content
      iframe.style.height = event.data.height + "px";
    }

    // Listen for puzzle solved event
    if (event.data && event.data.type === "CHESS_PUZZLE_SOLVED") {
      console.log("Puzzle solved!", event.data);
      alert(
        "Congratulations! You solved puzzle #" + (event.data.puzzleIndex + 1)
      );
      // Here you can redirect or show hidden content
    }
  });
</script>
